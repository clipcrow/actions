import{convert as P}from"../unist-util-is/index.mjs";import{color as j}from"./color.mjs";const h=!0,b="skip",y=!1,A=function(n,f,l,u){typeof f=="function"&&typeof l!="function"&&(u=l,l=f,f=null);const N=P(f),m=u?-1:1;s(n,null,[])();function s(t,I,o){const r=typeof t=="object"&&t!==null?t:{};let p;return typeof r.type=="string"&&(p=typeof r.tagName=="string"?r.tagName:typeof r.name=="string"?r.name:void 0,Object.defineProperty(a,"name",{value:"node ("+j(r.type+(p?"<"+p+">":""))+")"})),a;function a(){let i=[],c,e,g;if((!f||N(t,I,o[o.length-1]||null))&&(i=E(l(t,o)),i[0]===y))return i;if(t.children&&i[0]!==b)for(e=(u?t.children.length:-1)+m,g=o.concat(t);e>-1&&e<t.children.length;){if(c=s(t.children[e],e,g)(),c[0]===y)return c;e=typeof c[1]=="number"?c[1]:e+m}return i}}};function E(n){return Array.isArray(n)?n:typeof n=="number"?[h,n]:[n]}export{h as CONTINUE,y as EXIT,b as SKIP,A as visitParents};
